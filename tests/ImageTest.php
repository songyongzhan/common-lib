<?php

namespace Songyz\Common\Tests;

use PHPUnit\Framework\TestCase;
use Songyz\Common\Components\Jwt\JwtService;
use Songyz\Common\Library\Aes;
use Songyz\Common\Library\Arr;
use Songyz\Common\Library\Captcha;
use Songyz\Common\Library\Card;
use Songyz\Common\Library\Image;
use Songyz\Common\Library\Rsa;
use function GuzzleHttp\default_user_agent;

class ImageTest extends TestCase
{

    public function testBase64()
    {
        $file = 'C:\www\common-lib\tests\aa.png';

        echo Image::fileToBase64($file);
    }

    public function testCreateFile()
    {
        $str = 'data:image/png;base64,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';
        $outFile = 'C:\www\common-lib\tests\bb.png';

        Image::base64ToFile($str, $outFile);

    }

}
